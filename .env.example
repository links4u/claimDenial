# ===========================================
# ClaimPilot™ Environment Configuration
# ===========================================

# IMPORTANT: Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control

# -------------------------------------------
# LLM Provider Configuration
# -------------------------------------------

# LLM_PROVIDER options: 'local', 'anthropic', 'openai'
# DEFAULT: local (Ollama with Llama 3.1) - no API keys needed
LLM_PROVIDER=local

# Ollama Configuration (for local provider)
#OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=llama3.1:8b

# API Keys (ONLY required if using 'anthropic' or 'openai' providers)
# Leave blank for local provider
ANTHROPIC_API_KEY=
OPENAI_API_KEY=

# For cloud providers, uncomment and set:
# LLM_PROVIDER=anthropic
# ANTHROPIC_API_KEY=sk-ant-...
# Or:
# LLM_PROVIDER=openai
# OPENAI_API_KEY=sk-...

# -------------------------------------------
# Database Configuration
# -------------------------------------------
DATABASE_URL=postgresql://claimpilot:claimpilot_dev_password@localhost:5432/claimpilot_db

# For Docker Compose, use:
# DATABASE_URL=postgresql://claimpilot:claimpilot_dev_password@database:5432/claimpilot_db

# -------------------------------------------
# Application Configuration
# -------------------------------------------
ENVIRONMENT=development
LOG_LEVEL=INFO
DEBUG=true

# Backend API
API_HOST=0.0.0.0
API_PORT=1500

# Frontend
VITE_API_BASE_URL=http://localhost:1500
VITE_APP_NAME=ClaimPilot™

# -------------------------------------------
# Security
# -------------------------------------------
# JWT Secret (generate with: openssl rand -hex 32)
JWT_SECRET=your_jwt_secret_key_here_change_this_in_production

# CORS Origins (comma-separated for multiple origins)
CORS_ORIGINS=http://localhost:2400,http://localhost:3000

# -------------------------------------------
# LLM Configuration
# -------------------------------------------
# Model selection
LLM_PROVIDER=anthropic
LLM_MODEL=claude-3-5-sonnet-20241022
EMBEDDING_MODEL=text-embedding-3-small

# Temperature settings
CLASSIFIER_TEMPERATURE=0.0
DRAFTER_TEMPERATURE=0.3
GUARDRAIL_TEMPERATURE=0.0

# Token limits
MAX_TOKENS_CLASSIFIER=100
MAX_TOKENS_DRAFTER=1500
MAX_TOKENS_GUARDRAIL=500

# -------------------------------------------
# Performance Tuning
# -------------------------------------------
# Number of policy excerpts to retrieve (RAG)
RAG_TOP_K=3

# Retry settings
MAX_LLM_RETRIES=3
LLM_RETRY_DELAY=1

# Compliance guardrail max iterations
MAX_COMPLIANCE_RETRIES=2

# -------------------------------------------
# Database Pool Settings
# -------------------------------------------
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# -------------------------------------------
# Logging
# -------------------------------------------
LOG_FORMAT=json
LOG_FILE_PATH=logs/claimpilot.log

# -------------------------------------------
# Feature Flags
# -------------------------------------------
ENABLE_AUDIT_LOGGING=true
ENABLE_PERFORMANCE_METRICS=true
ENABLE_RATE_LIMITING=false
